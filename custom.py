from set_context import set_context

# 用户名
user_name = 'User'
gpt_name = 'D.A.'
# 头像(svg格式) 来自 https://www.dicebear.com/playground?style=identicon
user_svg = """
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 5 5" fill="none" shape-rendering="crispEdges" width="512" height="512"><desc>"Identicon" by "Florian Körner", licensed under "CC0 1.0". / Remix of the original. - Created with dicebear.com</desc><metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:RDF><cc:Work><dc:title>Identicon</dc:title><dc:creator><cc:Agent rdf:about="https://dicebear.com"><dc:title>Florian Körner</dc:title></cc:Agent></dc:creator><dc:source>https://dicebear.com</dc:source><cc:license rdf:resource="https://creativecommons.org/publicdomain/zero/1.0/" /></cc:Work></rdf:RDF></metadata><mask id="viewboxMask"><rect width="5" height="5" rx="0" ry="0" x="0" y="0" fill="#fff" /></mask><g mask="url(#viewboxMask)"><path d="M0 0h1v1H0V0ZM4 0h1v1H4V0ZM3 0H2v1h1V0Z" fill="#00acc1"/><path fill="#00acc1" d="M2 1h1v1H2z"/><path fill="#00acc1" d="M1 2h3v1H1z"/><path fill="#00acc1" d="M2 3h1v1H2z"/><path d="M2 4H1v1h1V4ZM4 4H3v1h1V4Z" fill="#00acc1"/></g></svg>
"""
gpt_svg = """
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="946" height="945" shape-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" xmlns:v="https://vecta.io/nano"><style><![CDATA[.B{opacity:.983}.C{opacity:.984}.D{opacity:.969}.E{opacity:.978}.F{opacity:.98}.G{fill:#0b3775}.H{opacity:.964}.I{opacity:.929}.J{opacity:.972}.K{opacity:.987}.L{opacity:.925}.M{opacity:.924}.N{opacity:.961}.O{opacity:.985}.P{opacity:.981}.Q{opacity:.967}.R{opacity:.946}.S{opacity:.956}.T{opacity:.922}.U{opacity:.898}.V{opacity:.865}.W{opacity:.805}]]></style><path fill="#04397c" d="M461.5 222.5h10v14h-10v-14z" opacity=".831"/><path fill="#05387b" d="M475.5 239.5c-1.899 6.458-5.733 11.458-11.5 15a241.29 241.29 0 0 0-22.5-2c8.163-12.61 19.497-16.943 34-13z" opacity=".952"/><path fill="#083778" d="M475.5 239.5c8.266 2.6 13.933 7.934 17 16-2.235.728-4.068 2.061-5.5 4-.414-.457-.914-.791-1.5-1a299.3 299.3 0 0 1-21 10c-1.291-.237-2.291.096-3 1-2.387-.813-4.72-1.146-7-1-3.512-.555-6.512.112-9 2-2.991-1.199-5.658-.532-8 2-.751-7.139.583-13.806 4-20a241.29 241.29 0 0 1 22.5 2c5.767-3.542 9.601-8.542 11.5-15z" opacity=".968"/><path d="M492.5 255.5c.734 1.208 1.067 2.541 1 4-1.385 1.114-2.885 2.114-4.5 3l-1-1c-3.145 2.476-6.312 4.81-9.5 7-1.052-.149-2.052.017-3 .5-1.333.667-1.333 1.333 0 2a12.93 12.93 0 0 1-5 .5v-3h-6a299.3 299.3 0 0 0 21-10c.586.209 1.086.543 1.5 1 1.432-1.939 3.265-3.272 5.5-4z" class="G N"/><path fill="#0d3673" d="M493.5 259.5c.802 1.452 1.302 3.118 1.5 5 .499 5.657.666 11.324.5 17a145.11 145.11 0 0 0-8 1v-14h-9c3.188-2.19 6.355-4.524 9.5-7l1 1c1.615-.886 3.115-1.886 4.5-3z" opacity=".88"/><path d="M454.5 268.5c2.28-.146 4.613.187 7 1v5c-2.688.334-5.021-.332-7-2v-4z" class="G H"/><path fill="#0d3672" d="M478.5 268.5v16a24.93 24.93 0 0 0-8 1v-14a12.93 12.93 0 0 0 5-.5c-1.333-.667-1.333-1.333 0-2 .948-.483 1.948-.649 3-.5z" opacity=".841"/><path d="M445.5 270.5v4c-.617-.111-1.117-.444-1.5-1-2.328 1.499-4.495 3.166-6.5 5v-6c2.342-2.532 5.009-3.199 8-2z" opacity=".885" class="G"/><path fill="#0e3672" d="M454.5 272.5c1.979 1.668 4.312 2.334 7 2v15c-2.213 1.273-4.546 2.273-7 3v-20z" class="D"/><path fill="#0e3673" d="M445.5 274.5v23c-3.011 1.169-5.678 2.836-8 5v-24c2.005-1.834 4.172-3.501 6.5-5 .383.556.883.889 1.5 1z" opacity=".879"/><path fill="#0f366d" d="M495.5 281.5v27h-47v-13h3v-3h3c2.454-.727 4.787-1.727 7-3v3h9v-7a24.93 24.93 0 0 1 8-1v8h3v3h6v-13a145.11 145.11 0 0 1 8-1z" class="I"/><path fill="#10356f" d="M445.5 297.5v11h-8v-6c2.322-2.164 4.989-3.831 8-5z" opacity=".841"/><path fill="#103571" d="M433.5 312.5c-.111.617-.444 1.117-1 1.5 1.142 2.45 2.142 4.95 3 7.5-4.267.297-8.434-.036-12.5-1-.769-2.599-.602-5.099.5-7.5 3.317-.498 6.65-.665 10-.5z" opacity=".842"/><path fill="#10356d" d="M433.5 312.5h37c-4.4 1.403-7.066 4.403-8 9h-27c-.858-2.55-1.858-5.05-3-7.5.556-.383.889-.883 1-1.5z" opacity=".853"/><path fill="#0f356a" d="M470.5 312.5c13.004-.167 26.004 0 39 .5 1.102 2.401 1.269 4.901.5 7.5-15.756.991-31.589 1.325-47.5 1 .934-4.597 3.6-7.597 8-9z" opacity=".886"/><path fill="#0f3672" d="M436.5 326.5c-.009 1.808.491 3.475 1.5 5l12.5 15c-5.943.321-11.61 1.654-17 4l-5-4v-20h8z" opacity=".971"/><path fill="#0f356c" d="M436.5 326.5h25c-.111.617-.444 1.117-1 1.5a53.49 53.49 0 0 1 2.5 8.5c1.439 1.514 2.939 1.847 4.5 1l6 2c5.274-2.476 10.608-4.643 16-6.5 2.229-2.4 4.563-4.567 7-6.5h8v22c-1.816 1.941-3.816 2.608-6 2-4.117-1.871-8.451-3.038-13-3.5a612.39 612.39 0 0 0-35-.5l-12.5-15c-1.009-1.525-1.509-3.192-1.5-5z" opacity=".96"/><path fill="#0f356a" d="M461.5 326.5h35c-2.437 1.933-4.771 4.1-7 6.5-5.392 1.857-10.726 4.024-16 6.5l-6-2c-1.561.847-3.061.514-4.5-1a53.49 53.49 0 0 0-2.5-8.5c.556-.383.889-.883 1-1.5z" class="J"/><path fill="#0b3777" d="M428.5 346.5l5 4-4 3c-.974-2.243-1.308-4.576-1-7z" opacity=".76"/><path fill="#0e3771" d="M504.5 348.5a9.86 9.86 0 0 1-1 6l-5-4c2.184.608 4.184-.059 6-2z" opacity=".692"/><path fill="#0d3674" d="M448.5 358.5c-4.262-2.3-8.595-4.3-13-6 4.294-.852 8.627-1.518 13-2v8z" opacity=".78"/><path fill="#0d3672" d="M461.5 350.5c3.267 1.702 6.767 3.036 10.5 4a445.98 445.98 0 0 0 13.5-.5c1.675-.985 3.342-1.819 5-2.5 5.023.681 9.356 2.681 13 6a663.61 663.61 0 0 1-19.5 6c-4.391-1.13-8.725-2.464-13-4-.873.235-1.707.569-2.5 1a38.85 38.85 0 0 0-7-1.5c-1.864-1.431-3.864-2.597-6-3.5v-5h6z" opacity=".958"/><path fill="#0f366f" d="M461.5 350.5a340.86 340.86 0 0 0 29 1c-1.658.681-3.325 1.515-5 2.5a445.98 445.98 0 0 1-13.5.5c-3.733-.964-7.233-2.298-10.5-4z" opacity=".885"/><path fill="#083779" d="M435.5 352.5c4.405 1.7 8.738 3.7 13 6v11c2.888.51 5.221-.156 7-2 1.869 1.534 3.202 3.534 4 6-2.014.108-3.68-.558-5-2h-4l-6-3c-5.23-2.061-10.896-4.061-17-6 .08-5.413 2.747-8.746 8-10z" opacity=".951"/><path d="M455.5 355.5c2.136.903 4.136 2.069 6 3.5a38.85 38.85 0 0 1 7 1.5c.793-.431 1.627-.765 2.5-1 4.275 1.536 8.609 2.87 13 4a663.61 663.61 0 0 0 19.5-6c1.723 2.28 2.389 4.947 2 8-8.298 1.831-16.632 2.497-25 2a97.18 97.18 0 0 1-12-3l-2 1a27.5 27.5 0 0 0-11-5v-5z" opacity=".976" class="G"/><path fill="#083878" d="M455.5 360.5a27.5 27.5 0 0 1 11 5l2-1a97.18 97.18 0 0 0 12 3c8.368.497 16.702-.169 25-2 .888 2.554 1.221 5.221 1 8-4.246-.965-8.413-1.298-12.5-1a206.14 206.14 0 0 0-8.5 2 19.52 19.52 0 0 0-7.5 1c-4.705-1.578-9.538-2.245-14.5-2-1.535.854-2.868.854-4 0-.798-2.466-2.131-4.466-4-6v-7z" class="E"/><path fill="#07377d" d="M427.5 362.5c6.104 1.939 11.77 3.939 17 6a12.99 12.99 0 0 0-5.5 1c-3.912-2.744-8.079-3.744-12.5-3-.067-1.459.266-2.792 1-4z" opacity=".95"/><path fill="#043780" d="M444.5 368.5l6 3c-2.84 3.182-4.84 6.849-6 11a167.33 167.33 0 0 1-16-6.5c.336-1.629-.33-3.129-2-4.5v-5c4.421-.744 8.588.256 12.5 3a12.99 12.99 0 0 1 5.5-1z" opacity=".995"/><path fill="#03397f" d="M450.5 371.5h4l-8 11h-2c1.16-4.151 3.16-7.818 6-11z"/><path fill="#043880" d="M454.5 371.5c1.32 1.442 2.986 2.108 5 2 1.132.854 2.465.854 4 0 2.461 1.031 5.127 1.698 8 2-1.445 1.633-2.779 3.466-4 5.5.486 2.027.486 4.193 0 6.5h-1-7c-.342-.838-1.008-1.172-2-1-3.906-.6-7.573-1.933-11-4l8-11z"/><g fill="#05387b"><path d="M506.5 373.5a19.22 19.22 0 0 0-1 6 41.73 41.73 0 0 1-9-1l-2 1c-4.855-1.726-9.522-2.726-14-3l5-2a206.14 206.14 0 0 1 8.5-2c4.087-.298 8.254.035 12.5 1z" class="F"/><path d="M463.5 373.5c4.962-.245 9.795.422 14.5 2a19.52 19.52 0 0 1 7.5-1l-5 2c-1.195.178-2.362.511-3.5 1a36.87 36.87 0 0 0-5.5-2c-2.873-.302-5.539-.969-8-2z"/></g><path fill="#04397e" d="M471.5 375.5a36.87 36.87 0 0 1 5.5 2c1.138-.489 2.305-.822 3.5-1 4.478.274 9.145 1.274 14 3 .683-.363 1.35-.696 2-1 .034 2.699-.633 5.199-2 7.5-5.592 1.81-10.759.977-15.5-2.5-3.138.903-5.805 2.57-8 5-1.011-.837-2.178-1.17-3.5-1 .486-2.307.486-4.473 0-6.5 1.221-2.034 2.555-3.867 4-5.5z"/><path fill="#083981" d="M496.5 378.5a41.73 41.73 0 0 0 9 1c-1.769 5.328-4.102 10.328-7 15-9.123-1.288-18.457-2.954-28-5-1.833-.085-3.166-.752-4-2h1c1.322-.17 2.489.163 3.5 1 2.195-2.43 4.862-4.097 8-5 4.741 3.477 9.908 4.31 15.5 2.5 1.367-2.301 2.034-4.801 2-7.5z" class="D"/><path fill="#043885" d="M426.5 371.5c1.67 1.371 2.336 2.871 2 4.5a167.33 167.33 0 0 0 16 6.5h2c3.427 2.067 7.094 3.4 11 4-2.855 1.334-5.355 3.334-7.5 6-5.863.522-10.03-1.811-12.5-7a9.86 9.86 0 0 0-6-1l-6-4c-.31-3.213.023-6.213 1-9z"/><path fill="#0b3981" d="M509.5 395.5a51.57 51.57 0 0 0-7-1c4.311-14.968 6.645-14.634 7 1z" opacity=".751"/><path fill="#0f3887" d="M425.5 380.5l6 4 7 10c-1.586-.648-3.253-1.148-5-1.5-2.869-3.038-5.869-5.871-9-8.5-.268-1.599.066-2.932 1-4z"/><path fill="#083987" d="M431.5 384.5a9.86 9.86 0 0 1 6 1c2.47 5.189 6.637 7.522 12.5 7 2.145-2.666 4.645-4.666 7.5-6 .992-.172 1.658.162 2 1l4 4h-11v8c-4.275-3.311-8.942-4.977-14-5l-7-10z" opacity=".988"/><path fill="#1b3a8a" d="M424.5 389.5a83.26 83.26 0 0 1 14 12.5 100.17 100.17 0 0 0 14 1.5v3a69.76 69.76 0 0 1-12.5-2c-.772.145-1.439.478-2 1-5.023-3.864-9.856-7.864-14.5-12-.268-1.599.066-2.932 1-4z" class="K"/><path fill="#0d3985" d="M459.5 387.5h7c.834 1.248 2.167 1.915 4 2 9.543 2.046 18.877 3.712 28 5-.233 1.562-.9 2.895-2 4-4.526.877-9.026.877-13.5 0-2.851.588-5.685 1.255-8.5 2-2.979-.828-5.979-1.495-9-2 .51-2.888-.156-5.221-2-7l-4-4z" class="D"/><path fill="#223b8b" d="M423.5 393.5c4.644 4.136 9.477 8.136 14.5 12 .561-.522 1.228-.855 2-1a69.76 69.76 0 0 0 12.5 2v3c-5.572-1.358-11.238-2.191-17-2.5-3.906-3.419-7.906-6.586-12-9.5v-4z" class="O"/><path fill="#11398a" d="M424.5 384.5c3.131 2.629 6.131 5.462 9 8.5 1.747.352 3.414.852 5 1.5 5.058.023 9.725 1.689 14 5v4a100.17 100.17 0 0 1-14-1.5 83.26 83.26 0 0 0-14-12.5v-5z" opacity=".991"/><path fill="#283b8c" d="M423.5 397.5c4.094 2.914 8.094 6.081 12 9.5 5.762.309 11.428 1.142 17 2.5v3c-5.167-.823-10.334-1.823-15.5-3-.772.145-1.439.478-2 1-3.399-3.94-7.565-6.274-12.5-7-.295-2.235.039-4.235 1-6z" opacity=".959"/><path fill="#143a85" d="M502.5 394.5a51.57 51.57 0 0 1 7 1c-.052 2.403.281 4.736 1 7-4.215.323-8.548.323-13 0 1.18-3.04 2.847-5.706 5-8z" opacity=".904"/><path fill="#153a87" d="M465.5 398.5c3.021.505 6.021 1.172 9 2l8.5-2c4.474.877 8.974.877 13.5 0-.748 1.832-1.748 3.499-3 5-5.521-.815-11.021-.481-16.5 1a68.54 68.54 0 0 0-11.5-2v-4z" opacity=".948"/><path fill="#1c3b88" d="M497.5 402.5c4.452.323 8.785.323 13 0-.221 2.779.112 5.446 1 8-2.097-.853-4.097-.853-6 0a131.1 131.1 0 0 1-11-3 12.18 12.18 0 0 1 3-5z" opacity=".936"/><path fill="#2e3c8c" d="M422.5 403.5c4.935.726 9.101 3.06 12.5 7 .561-.522 1.228-.855 2-1 5.166 1.177 10.333 2.177 15.5 3 .111.617.444 1.117 1 1.5a42.36 42.36 0 0 1 8.5 1.5c.561-.522 1.228-.855 2-1 6.474 1.961 12.974 2.628 19.5 2-1.104 1.889-2.437 3.555-4 5-12.316-3.031-24.649-5.198-37-6.5a15.83 15.83 0 0 1-5.5-3.5c-1.117.165-2.284.498-3.5 1-3.462-3.197-7.128-5.197-11-6v-3z" class="O"/><path fill="#1c3a89" d="M465.5 402.5a68.54 68.54 0 0 1 11.5 2c5.479-1.481 10.979-1.815 16.5-1-1.201 2.409-2.867 4.409-5 6-7.924.035-15.59-.632-23-2v-5z" opacity=".938"/><path fill="#353d8d" d="M422.5 406.5c3.872.803 7.538 2.803 11 6 1.216-.502 2.383-.835 3.5-1a15.83 15.83 0 0 0 5.5 3.5c12.351 1.302 24.684 3.469 37 6.5-1.333 2-3 3.667-5 5-2.751-.028-5.085-1.028-7-3-.793.431-1.627.765-2.5 1-14.802-2.797-29.302-7.13-43.5-13-.284-1.915.049-3.581 1-5z" class="P"/><g fill="#223b8a"><path d="M465.5 407.5c7.41 1.368 15.076 2.035 23 2-.238 1.904-1.238 3.238-3 4-6.703-.338-13.37-1.005-20-2v-4z" opacity=".947"/><path d="M494.5 407.5a131.1 131.1 0 0 0 11 3c1.903-.853 3.903-.853 6 0v2c-7.024 2.55-14.024 2.55-21 0 1.104-1.889 2.437-3.555 4-5z" opacity=".962"/></g><path fill="#3b3f8e" d="M421.5 411.5c14.198 5.87 28.698 10.203 43.5 13 .873-.235 1.707-.569 2.5-1 1.915 1.972 4.249 2.972 7 3l-3 4c-2.995-2.068-6.162-2.734-9.5-2-2.794-1.064-5.461-2.397-8-4-.725.559-1.558.892-2.5 1-4.272-1.448-8.605-2.615-13-3.5-5.817-2.6-11.817-4.767-18-6.5.734-1.208 1.067-2.541 1-4z" class="C"/><path fill="#283b8b" d="M465.5 411.5c6.63.995 13.297 1.662 20 2 .073 1.527-.594 2.527-2 3-6.526.628-13.026-.039-19.5-2-.772.145-1.439.478-2 1a42.36 42.36 0 0 0-8.5-1.5c-.556-.383-.889-.883-1-1.5 4.532.318 8.866-.015 13-1z" opacity=".974"/><path fill="#283c8b" d="M490.5 412.5c6.976 2.55 13.976 2.55 21 0-.175 2.121.159 4.121 1 6a61.13 61.13 0 0 0-13 1 59.2 59.2 0 0 0-13-2l4-5z" opacity=".943"/><path fill="#41408e" d="M420.5 415.5c6.183 1.733 12.183 3.9 18 6.5 4.395.885 8.728 2.052 13 3.5.942-.108 1.775-.441 2.5-1 2.539 1.603 5.206 2.936 8 4 3.338-.734 6.505-.068 9.5 2-.762 1.762-2.096 2.762-4 3-7.794-1.708-15.461-4.041-23-7-5.123-.098-9.956-1.765-14.5-5-.772.145-1.439.478-2 1-2.593-1.246-5.093-2.579-7.5-4v-3z" opacity=".977"/><path fill="#2e3c8c" d="M486.5 417.5a59.2 59.2 0 0 1 13 2 61.13 61.13 0 0 1 13-1v6c-10.069.218-20.069-.448-30-2l4-5z" opacity=".958"/><path fill="#47428f" d="M420.5 418.5l7.5 4c.561-.522 1.228-.855 2-1 4.544 3.235 9.377 4.902 14.5 5-1.761.813-3.428 1.813-5 3-6.376-3.006-12.71-5.339-19-7v-4z" opacity=".989"/><path fill="#4d4390" d="M420.5 422.5c6.29 1.661 12.624 3.994 19 7 7.828 2.387 15.828 5.054 24 8-.667 1.333-1.667 2.333-3 3l-25-7.5a133.67 133.67 0 0 0-9.5-5.5c-.308.808-.808 1.475-1.5 2-1.44-1.452-3.106-2.452-5-3-.067-1.459.266-2.792 1-4z" class="P"/><path fill="#353d8d" d="M482.5 422.5c9.931 1.552 19.931 2.218 30 2a20.69 20.69 0 0 1 1 5c-7.19 1.143-14.19 1.143-21 0a82.04 82.04 0 0 1-13-3l3-4z" class="D"/><path fill="#544590" d="M419.5 426.5c1.894.548 3.56 1.548 5 3 .692-.525 1.192-1.192 1.5-2a133.67 133.67 0 0 1 9.5 5.5l25 7.5c-.79.901-1.79 1.568-3 2-12.772-4.156-25.438-7.823-38-11v-5z" class="K"/><path fill="#47418f" d="M444.5 426.5c7.539 2.959 15.206 5.292 23 7-1 1.667-2.333 3-4 4-8.172-2.946-16.172-5.613-24-8 1.572-1.187 3.239-2.187 5-3z" class="C"/><path fill="#3b3f8e" d="M479.5 426.5a82.04 82.04 0 0 0 13 3c6.81 1.143 13.81 1.143 21 0v5c-4.047-.195-8.047.138-12 1-8.719-1.326-17.386-2.992-26-5 1-1.667 2.333-3 4-4z" class="J"/><path fill="#41408f" d="M475.5 430.5c8.614 2.008 17.281 3.674 26 5 3.953-.862 7.953-1.195 12-1 .841 1.879 1.175 3.879 1 6-5.199.486-10.199-.181-15-2-.946.487-1.946.82-3 1-8.381-1.041-16.715-2.708-25-5 1-1.667 2.333-3 4-4z" class="J"/><path fill="#5a4691" d="M419.5 431.5c12.562 3.177 25.228 6.844 38 11-.667 1.333-1.667 2.333-3 3-8.874-2.789-17.874-5.289-27-7.5-2.809-2.434-5.809-3.6-9-3.5.057-1.109.39-2.109 1-3z" class="J"/><path fill="#604892" d="M418.5 434.5c3.191-.1 6.191 1.066 9 3.5 9.126 2.211 18.126 4.711 27 7.5l-4 3c-6.065-1.281-11.899-3.281-17.5-6-1.299.466-2.799.466-4.5 0-2.873-2.413-6.206-4.08-10-5v-3z" class="Q"/><path fill="#47418f" d="M471.5 434.5c8.285 2.292 16.619 3.959 25 5 1.054-.18 2.054-.513 3-1 4.801 1.819 9.801 2.486 15 2a20.69 20.69 0 0 0 1 5c-3.189-1.015-6.356-1.015-9.5 0a54.03 54.03 0 0 0-10-3c-.893.581-1.893.915-3 1l-24.5-6c.667-1.333 1.667-2.333 3-3z" opacity=".977"/><path fill="#674b93" d="M418.5 437.5c3.794.92 7.127 2.587 10 5 3.642 1.213 6.976 3.547 10 7-6.503-2.701-13.503-5.368-21-8 .734-1.208 1.067-2.541 1-4z" opacity=".979"/><path fill="#4e4390" d="M468.5 437.5l24.5 6c1.107-.085 2.107-.419 3-1a54.03 54.03 0 0 1 10 3c3.144-1.015 6.311-1.015 9.5 0v7a87.81 87.81 0 0 1-22-5l-2 1c-4.662-2.401-9.495-3.401-14.5-3-4.036-2.536-8.202-3.869-12.5-4 1-1.667 2.333-3 4-4z" class="O"/><path fill="#6d4c94" d="M417.5 441.5c7.497 2.632 14.497 5.299 21 8 1.75 1.37 3.75 2.37 6 3-.79.901-1.79 1.568-3 2-8.461-2.696-16.461-5.696-24-9v-4z" class="N"/><path fill="#534490" d="M464.5 441.5c4.298.131 8.464 1.464 12.5 4 5.005-.401 9.838.599 14.5 3l2-1a87.81 87.81 0 0 0 22 5c.667 0 1 .333 1 1a605.15 605.15 0 0 1-44-7c-3.87-1.299-7.87-1.966-12-2 .936-1.474 2.27-2.474 4-3z" opacity=".979"/><path fill="#664993" d="M428.5 442.5c1.701.466 3.201.466 4.5 0 5.601 2.719 11.435 4.719 17.5 6-1.705 1.692-3.705 3.025-6 4-2.25-.63-4.25-1.63-6-3-3.024-3.453-6.358-5.787-10-7z" class="R"/><path fill="#5a4591" d="M460.5 444.5c4.13.034 8.13.701 12 2 .111.617.444 1.117 1 1.5 4.894 1.298 9.727 2.798 14.5 4.5 1.667-1.507 2.834-1.173 3.5 1-3.512-.555-6.512.112-9 2a42.31 42.31 0 0 1-9-4c-.586.209-1.086.543-1.5 1a82.81 82.81 0 0 0-10.5-3.5c-1.442-.377-2.442-1.21-3-2.5a3 3 0 0 1 2-2z" class="R"/><path fill="#734f95" d="M417.5 445.5c7.539 3.304 15.539 6.304 24 9a12.18 12.18 0 0 1-5 3 129.53 129.53 0 0 1-19-9v-3z" opacity=".962"/><path fill="#604791" d="M458.5 446.5c.558 1.29 1.558 2.123 3 2.5a82.81 82.81 0 0 1 10.5 3.5c.414-.457.914-.791 1.5-1a42.31 42.31 0 0 0 9 4v4c-9.727-2.727-19.394-5.727-29-9 1.079-2.043 2.746-3.376 5-4z" class="Q"/><path fill="#554591" d="M472.5 446.5a605.15 605.15 0 0 0 44 7v4l-20-3c-1.419-.951-3.085-1.284-5-1-.666-2.173-1.833-2.507-3.5-1-4.773-1.702-9.606-3.202-14.5-4.5-.556-.383-.889-.883-1-1.5z" class="S"/><path fill="#785296" d="M417.5 448.5a129.53 129.53 0 0 0 19 9l-4 3c.03-.997-.47-1.664-1.5-2a85.05 85.05 0 0 0-14.5-5c-.134-1.792.199-3.458 1-5z" opacity=".949"/><path fill="#674892" d="M453.5 450.5c9.606 3.273 19.273 6.273 29 9v5c-4.958-1.614-10.125-3.614-15.5-6-.561.522-1.228.855-2 1-5.015-2.379-10.181-4.379-15.5-6 .762-1.762 2.096-2.762 4-3z" opacity=".975"/><path fill="#7f5597" d="M416.5 453.5a85.05 85.05 0 0 1 14.5 5c1.03.336 1.53 1.003 1.5 2a16.34 16.34 0 0 1-5 2c-3.721-1.466-7.388-3.133-11-5v-4z" opacity=".954"/><path fill="#6d4a93" d="M449.5 453.5c5.319 1.621 10.485 3.621 15.5 6 .772-.145 1.439-.478 2-1 5.375 2.386 10.542 4.386 15.5 6v4c-1.701-.466-3.201-.466-4.5 0-11.191-4.889-22.358-8.889-33.5-12a12.18 12.18 0 0 1 5-3z" class="Q"/><path fill="#5a4691" d="M496.5 454.5l20 3 1 6c-3.399-.307-6.566-1.307-9.5-3-.414.457-.914.791-1.5 1-3.112-1.684-6.446-2.35-10-2v-5z" opacity=".948"/><path fill="#734c94" d="M444.5 456.5c11.142 3.111 22.309 7.111 33.5 12 1.299-.466 2.799-.466 4.5 0v5c-6.671-1.336-13.005-3.669-19-7-.586.209-1.086.543-1.5 1a283.41 283.41 0 0 0-21.5-8c.936-1.474 2.27-2.474 4-3z" class="C"/><path fill="#865997" d="M416.5 457.5c3.612 1.867 7.279 3.534 11 5-1.014 1.174-2.347 1.84-4 2-2.503-.871-5.17-1.537-8-2-.284-1.915.049-3.581 1-5z" opacity=".887"/><path fill="#604792" d="M496.5 459.5c3.554-.35 6.888.316 10 2 .586-.209 1.086-.543 1.5-1 2.934 1.693 6.101 2.693 9.5 3v5a370.51 370.51 0 0 0-21-5v-4z" opacity=".966"/><path fill="#805297" d="M436.5 461.5c4.563.948 8.563 2.948 12 6-.131.876.202 1.543 1 2 4.546 1.116 8.546 3.116 12 6-9.114-1.415-17.78-4.915-26-10.5a8.43 8.43 0 0 0-4-.5c1.465-1.237 3.132-2.237 5-3z" opacity=".973"/><path fill="#8b5b98" d="M415.5 462.5c2.83.463 5.497 1.129 8 2-1.014 1.174-2.347 1.84-4 2-1.562-.233-2.895-.9-4-2v-2z" opacity=".882"/><path fill="#674993" d="M496.5 463.5a370.51 370.51 0 0 1 21 5c.888 2.554 1.221 5.221 1 8a133.31 133.31 0 0 0-22-7v-6z" opacity=".953"/><path fill="#865497" d="M429.5 465.5c.342-.838 1.008-1.172 2-1a8.43 8.43 0 0 1 4 .5c8.22 5.585 16.886 9.085 26 10.5 1.43 1.037 3.097 1.704 5 2l9 5.5c9.311 3.654 18.478 7.488 27.5 11.5 3.492.155 6.659 1.655 9.5 4.5 3.264.638 6.264 1.804 9 3.5.869 2.217 1.202 4.55 1 7-17.288-7.638-34.621-15.971-52-25-.586.209-1.086.543-1.5 1-10.063-4.451-19.896-9.117-29.5-14l-10-6z" opacity=".99"/><path fill="#905e98" d="M415.5 464.5c1.105 1.1 2.438 1.767 4 2-3.668 3.102-5.002 2.435-4-2z" opacity=".579"/><path fill="#8c5999" d="M429.5 465.5l10 6c2.719 2.278 5.386 4.611 8 7-.996-.086-1.829.248-2.5 1a40.96 40.96 0 0 0-9-6c-4.55-.998-8.716-2.664-12.5-5 1.681-1.508 3.681-2.508 6-3z" class="H"/><path fill="#7e5096" d="M448.5 467.5c9.643 1.375 18.477 4.709 26.5 10 .414-.457.914-.791 1.5-1 3.573 1.441 7.073 3.108 10.5 5l1-1c6.922 3.975 14.255 6.975 22 9 1.498 2.059 3.498 3.392 6 4 1.414-.913 2.914-.913 4.5 0l1 4-20-8.5c-12.149-2.773-23.816-6.606-35-11.5-1.903-.296-3.57-.963-5-2-3.454-2.884-7.454-4.884-12-6-.798-.457-1.131-1.124-1-2z" opacity=".993"/><path fill="#925a99" d="M421.5 469.5c.342-.838 1.008-1.172 2-1 3.784 2.336 7.95 4.002 12.5 5a40.96 40.96 0 0 1 9 6c.671-.752 1.504-1.086 2.5-1 1.074 1.385 2.407 2.551 4 3.5a595.94 595.94 0 0 0 24 9.5c.549 2.187 1.715 2.854 3.5 2 5.287 3.691 10.454 6.858 15.5 9.5 8.818 2.826 16.652 7.326 23.5 13.5l1-1c5.158 3.491 10.325 6.158 15.5 8 .17 1.322-.163 2.489-1 3.5a60.93 60.93 0 0 1-11 .5c-.754-2.005-1.921-2.672-3.5-2-7.451-4.313-14.284-9.48-20.5-15.5-5.074-2.869-10.407-5.202-16-7-3.897-2.344-7.231-4.677-10-7-4.109-1.801-7.942-3.968-11.5-6.5-5.27-.538-10.103-2.705-14.5-6.5-1.266-.309-2.433-.809-3.5-1.5l-1 1c-1.488-1.66-3.321-2.66-5.5-3-2.111-2.423-4.778-4.09-8-5-2.119-1.9-4.453-3.566-7-5z" opacity=".994"/><path fill="#935e99" d="M419.5 470.5c.342-.838 1.008-1.172 2-1 2.547 1.434 4.881 3.1 7 5a.91.91 0 0 1-.5 1l-8.5-5z" class="T"/><path fill="#9a5f9a" d="M419.5 470.5l8.5 5a.91.91 0 0 0 .5-1c3.222.91 5.889 2.577 8 5 1.399 2.89 3.732 4.39 7 4.5 6.496 5.248 13.83 8.915 22 11 7.86 5.356 16.527 10.023 26 14 5.549 4.781 11.882 9.114 19 13 2.186 1.412 3.852 3.245 5 5.5h-9c-6.126-7.419-13.793-12.919-23-16.5-9.769-8.221-20.769-14.388-33-18.5-1.142-1.933-2.808-3.433-5-4.5a167.74 167.74 0 0 1-16-6.5c-4.273-3.478-8.94-6.478-14-9 1.014-1.174 2.347-1.84 4-2z" opacity=".995"/><path fill="#6d4b93" d="M496.5 469.5a133.31 133.31 0 0 1 22 7 19.22 19.22 0 0 1 1 6c-.809-.969-1.809-1.802-3-2.5-6.967-.907-13.634-2.741-20-5.5v-5z" opacity=".951"/><path fill="#8b5698" d="M439.5 471.5c9.604 4.883 19.437 9.549 29.5 14 .414-.457.914-.791 1.5-1 17.379 9.029 34.712 17.362 52 25v3c-3.712-.673-7.379-2.339-11-5-2.888.56-5.221-.607-7-3.5a207.18 207.18 0 0 1-17-9 81.61 81.61 0 0 0-12-3.5 595.94 595.94 0 0 1-24-9.5c-1.593-.949-2.926-2.115-4-3.5-2.614-2.389-5.281-4.722-8-7z" opacity=".999"/><path fill="#9f659a" d="M415.5 472.5c5.06 2.522 9.727 5.522 14 9 1.1 1.105 1.767 2.438 2 4h-1c-4.595-1.385-8.761-3.719-12.5-7a.91.91 0 0 0-.5 1l-4-2c-.098-2.053.569-3.72 2-5z" class="H"/><path fill="#734d94" d="M496.5 474.5c6.366 2.759 13.033 4.593 20 5.5 1.191.698 2.191 1.531 3 2.5-.134 1.792.199 3.458 1 5-4.772-.201-8.938-1.867-12.5-5-.414.457-.914.791-1.5 1-4.94-2.639-9.94-4.972-15-7 2.281.423 3.948-.244 5-2z" class="N"/><path fill="#794f95" d="M440.5 459.5a283.41 283.41 0 0 1 21.5 8c.414-.457.914-.791 1.5-1 5.995 3.331 12.329 5.664 19 7v3h9c5.06 2.028 10.06 4.361 15 7 .586-.209 1.086-.543 1.5-1 3.562 3.133 7.728 4.799 12.5 5v6c-1.586-.913-3.086-.913-4.5 0-2.502-.608-4.502-1.941-6-4-7.745-2.025-15.078-5.025-22-9l-1 1c-3.427-1.892-6.927-3.559-10.5-5-.586.209-1.086.543-1.5 1-8.023-5.291-16.857-8.625-26.5-10-3.437-3.052-7.437-5.052-12-6 1.014-1.174 2.347-1.84 4-2z" class="H"/><path fill="#815296" d="M466.5 477.5c11.184 4.894 22.851 8.727 35 11.5l20 8.5v5c-2.736-1.696-5.736-2.862-9-3.5-2.841-2.845-6.008-4.345-9.5-4.5-9.022-4.012-18.189-7.846-27.5-11.5l-9-5.5z" opacity=".99"/><path fill="#a66b9a" d="M413.5 477.5l4 2c.233 1.562.9 2.895 2 4-2.002-1.495-4.002-2.162-6-2v-4z" class="L"/><path fill="#a4689b" d="M430.5 485.5c-.79.901-1.79 1.568-3 2a8.43 8.43 0 0 1-4-.5c-1.205-1.376-2.538-2.542-4-3.5-1.1-1.105-1.767-2.438-2-4a.91.91 0 0 1 .5-1c3.739 3.281 7.905 5.615 12.5 7z"/><path fill="#965c99" d="M436.5 479.5c2.179.34 4.012 1.34 5.5 3l1-1c1.067.691 2.234 1.191 3.5 1.5 4.397 3.795 9.23 5.962 14.5 6.5 3.558 2.532 7.391 4.699 11.5 6.5 2.769 2.323 6.103 4.656 10 7 5.593 1.798 10.926 4.131 16 7 6.216 6.02 13.049 11.187 20.5 15.5 1.579-.672 2.746-.005 3.5 2h-7c-1.148-2.255-2.814-4.088-5-5.5-7.118-3.886-13.451-8.219-19-13-9.473-3.977-18.14-8.644-26-14-8.17-2.085-15.504-5.752-22-11-3.268-.11-5.601-1.61-7-4.5z"/><path fill="#ab6e9b" d="M413.5 481.5c1.998-.162 3.998.505 6 2 1.462.958 2.795 2.124 4 3.5a8.43 8.43 0 0 0 4 .5v1c-.453.958-1.119 1.792-2 2.5.752.671 1.086 1.504 1 2.5l-13-10v-2z" opacity=".999"/><path fill="#9f619c" d="M429.5 481.5a167.74 167.74 0 0 0 16 6.5c2.192 1.067 3.858 2.567 5 4.5 1.252 1.501 2.252 3.168 3 5-5.057-1.852-10.057-4.019-15-6.5-1.917-2.423-4.25-4.256-7-5.5-.233-1.562-.9-2.895-2-4z"/><path fill="#b2739a" d="M413.5 483.5l13 10 2 1c1.425 1.422 2.425 3.089 3 5-2.48-.742-4.813-1.742-7-3a53.76 53.76 0 0 1-12-7c-.295-2.235.039-4.235 1-6z" class="E"/><path fill="#a5659d" d="M430.5 485.5h1c2.75 1.244 5.083 3.077 7 5.5 4.943 2.481 9.943 4.648 15 6.5-.172.992.162 1.658 1 2 .172.992-.162 1.658-1 2-8.27-2.801-16.27-6.801-24-12-.342-.838-1.008-1.172-2-1v-1c1.21-.432 2.21-1.099 3-2z"/><path fill="#ac6b9d" d="M427.5 488.5c.992-.172 1.658.162 2 1 2.253 3.73 5.586 6.23 10 7.5.752.671 1.086 1.504 1 2.5-1.729-.617-3.229-1.617-4.5-3l-1 1c-1.993-1.414-4.16-2.414-6.5-3l-2-1c.086-.996-.248-1.829-1-2.5.881-.708 1.547-1.542 2-2.5z"/><path fill="#b87899" d="M412.5 489.5a53.76 53.76 0 0 0 12 7c2.285 2.952 4.952 5.618 8 8-3.467.054-6.134-1.446-8-4.5-1.936-.813-3.936-1.313-6-1.5a40.61 40.61 0 0 0-7-5c.734-1.208 1.067-2.541 1-4z" class="C"/><path fill="#8d5898" d="M475.5 491.5a81.61 81.61 0 0 1 12 3.5 207.18 207.18 0 0 0 17 9c1.779 2.893 4.112 4.06 7 3.5 3.621 2.661 7.288 4.327 11 5 2.669 1.587 5.669 2.421 9 2.5 2.625 2.196 3.625 5.03 3 8.5-5.175-1.842-10.342-4.509-15.5-8l-1 1c-6.848-6.174-14.682-10.674-23.5-13.5-5.046-2.642-10.213-5.809-15.5-9.5-1.785.854-2.951.187-3.5-2z" class="B"/><path fill="#9f619a" d="M450.5 492.5c12.231 4.112 23.231 10.279 33 18.5 9.207 3.581 16.874 9.081 23 16.5h-6c-5.243-3.386-10.41-7.052-15.5-11-4.898-1.927-9.398-5.094-13.5-9.5-4.836-1.337-9.003-3.837-12.5-7.5-1.414.913-2.914.913-4.5 0-.838-.342-1.172-1.008-1-2-.748-1.832-1.748-3.499-3-5z"/><path fill="#bf7d98" d="M411.5 493.5a40.61 40.61 0 0 1 7 5c2.619 1.949 5.285 4.615 8 8a88.02 88.02 0 0 0-14-8c0-.667-.333-1-1-1v-4z" class="R"/><path fill="#b06e9d" d="M428.5 494.5c2.34.586 4.507 1.586 6.5 3l1-1c1.271 1.383 2.771 2.383 4.5 3l1 2c2.384.511 4.384 1.511 6 3-.6 1.4-1.6 2.4-3 3h-1c-.011-1.517-.677-2.684-2-3.5-3.042-2.225-6.376-3.725-10-4.5-.575-1.911-1.575-3.578-3-5z"/><path fill="#b8749b" d="M424.5 496.5c2.187 1.258 4.52 2.258 7 3l12 8c6.96 4.547 13.294 10.047 19 16.5.948.483 1.948.649 3 .5v3h-6v-1c-2.422-3.899-5.756-6.899-10-9-6.427-3.452-12.093-7.786-17-13-3.048-2.382-5.715-5.048-8-8z"/><path fill="#c48098" d="M412.5 498.5a88.02 88.02 0 0 1 14 8c5.533 5.021 11.533 9.521 18 13.5 2.618 2.106 4.618 4.606 6 7.5h-7c-2.786-1.668-4.786-4.168-6-7.5-6.273-5.348-12.606-10.015-19-14-2.368-2.312-4.368-4.812-6-7.5z"/><path fill="#be7a9a" d="M418.5 498.5c2.064.187 4.064.687 6 1.5 1.866 3.054 4.533 4.554 8 4.5 4.907 5.214 10.573 9.548 17 13-.086.996.248 1.829 1 2.5a79.8 79.8 0 0 0 9 6.5v1h-9c-1.382-2.894-3.382-5.394-6-7.5-6.467-3.979-12.467-8.479-18-13.5-2.715-3.385-5.381-6.051-8-8z"/><path fill="#b4719c" d="M431.5 499.5c3.624.775 6.958 2.275 10 4.5 1.323.816 1.989 1.983 2 3.5l-12-8z"/><path fill="#a5659a" d="M454.5 499.5c1.586.913 3.086.913 4.5 0 3.497 3.663 7.664 6.163 12.5 7.5 4.102 4.406 8.602 7.573 13.5 9.5 5.09 3.948 10.257 7.614 15.5 11h-13c-6.576-6.961-14.242-12.461-23-16.5a158.39 158.39 0 0 1-11-9.5c.838-.342 1.172-1.008 1-2z"/><path fill="#cb8894" d="M410.5 501.5c6.152 6.312 12.819 12.145 20 17.5.849 2.75 2.516 5.25 5 7.5-3.787-1.952-6.787-4.786-9-8.5-2.726-2.296-5.726-4.129-9-5.5a10.26 10.26 0 0 1-1.5-4c-2.167-.988-4-2.321-5.5-4v-3z" opacity=".959"/><path fill="#aa699b" d="M429.5 489.5c7.73 5.199 15.73 9.199 24 12a158.39 158.39 0 0 0 11 9.5c8.758 4.039 16.424 9.539 23 16.5h-5c-5.676-6.023-12.343-10.857-20-14.5l-14-11c-2.577-.241-5.244-1.074-8-2.5.086-.996-.248-1.829-1-2.5-4.414-1.27-7.747-3.77-10-7.5z"/><path fill="#ad6b9b" d="M440.5 499.5c2.756 1.426 5.423 2.259 8 2.5l14 11c7.657 3.643 14.324 8.477 20 14.5h-4c-9.764-8.431-20.098-16.097-31-23-1.616-1.489-3.616-2.489-6-3-.363-.683-.696-1.35-1-2z"/><path fill="#b06e9b" d="M447.5 504.5c10.902 6.903 21.236 14.569 31 23h-7c-6.227-4.39-12.061-9.39-17.5-15l-1 1c-2.713-2.22-5.546-4.22-8.5-6 1.4-.6 2.4-1.6 3-3z"/><path fill="#d08c92" d="M410.5 504.5c1.5 1.679 3.333 3.012 5.5 4a10.26 10.26 0 0 0 1.5 4c3.274 1.371 6.274 3.204 9 5.5 2.213 3.714 5.213 6.548 9 8.5v1h-8a78.39 78.39 0 0 0-10-11 14.21 14.21 0 0 0-8-6c.841-1.879 1.175-3.879 1-6z" opacity=".993"/><path fill="#c98596" d="M411.5 497.5c.667 0 1 .333 1 1 1.632 2.688 3.632 5.188 6 7.5 6.394 3.985 12.727 8.652 19 14 1.214 3.332 3.214 5.832 6 7.5h-8v-1c-2.484-2.25-4.151-4.75-5-7.5-7.181-5.355-13.848-11.188-20-17.5.734-1.208 1.067-2.541 1-4z"/><path fill="#b4719b" d="M443.5 507.5h1c2.954 1.78 5.787 3.78 8.5 6l1-1c5.439 5.61 11.273 10.61 17.5 15h-6v-3c-1.052.149-2.052-.017-3-.5-5.706-6.453-12.04-11.953-19-16.5z"/><path fill="#d6928e" d="M409.5 512.5c2.421 1.738 5.088 3.071 8 4a78.39 78.39 0 0 1 10 11h-6c-1.978-2.493-3.811-5.16-5.5-8l-1 1c-2.069-1.585-4.236-2.919-6.5-4v-2c.838-.342 1.172-1.008 1-2z" class="B"/><path fill="#d3908f" d="M409.5 510.5a14.21 14.21 0 0 1 8 6c-2.912-.929-5.579-2.262-8-4v-2z"/><path fill="#dc9a86" d="M402.5 514.5c1.802.958 3.802 1.625 6 2a78.39 78.39 0 0 0 10 11h-7v-2c.086-.996-.248-1.829-1-2.5-3.234-2.748-6.568-5.248-10-7.5l2-1z" class="P"/><path fill="#d99788" d="M402.5 514.5h6v2c-2.198-.375-4.198-1.042-6-2z" opacity=".797"/><path fill="#df9d82" d="M400.5 515.5c3.432 2.252 6.766 4.752 10 7.5.752.671 1.086 1.504 1 2.5-4.084-2.74-8.418-5.074-13-7 .432-1.21 1.099-2.21 2-3z" class="S"/><path fill="#d9968a" d="M408.5 516.5c2.264 1.081 4.431 2.415 6.5 4l1-1c1.689 2.84 3.522 5.507 5.5 8h-3a78.39 78.39 0 0 1-10-11z"/><path fill="#ba779b" d="M449.5 517.5c4.244 2.101 7.578 5.101 10 9a79.8 79.8 0 0 1-9-6.5c-.752-.671-1.086-1.504-1-2.5z"/><path fill="#e2a07f" d="M398.5 518.5c4.582 1.926 8.916 4.26 13 7v2h-5c-1.842-2.939-4.509-4.939-8-6v-3z" opacity=".994"/><path fill="#e5a47a" d="M398.5 521.5c3.491 1.061 6.158 3.061 8 6h-8v-6z"/><path fill="#eaab73" d="M402.5 532.5c.25 2.174 1.25 3.841 3 5 .865 3.462 2.531 6.462 5 9h-7c-1.712-2.761-2.878-5.761-3.5-9-.383.556-.883.889-1.5 1v-6h4z" class="E"/><path fill="#e7a779" d="M402.5 532.5h5a60.29 60.29 0 0 1 8 14h-3a23.88 23.88 0 0 0-7-9c-1.75-1.159-2.75-2.826-3-5z" class="K"/><path fill="#e5a47e" d="M407.5 532.5h3c3.996 3.984 6.996 8.65 9 14h-4a60.29 60.29 0 0 0-8-14z" opacity=".982"/><path fill="#e2a081" d="M410.5 532.5h5c3.198 4.401 5.865 9.067 8 14h-4c-2.004-5.35-5.004-10.016-9-14z" class="B"/><path fill="#de9a87" d="M417.5 532.5h6c.671 1.347.671 2.514 0 3.5 3.693 2.541 6.026 6.041 7 10.5h-4c-2.228-5.215-5.228-9.882-9-14z" class="K"/><path fill="#db978a" d="M423.5 532.5h3l1 2c1.576 3.426 3.409 6.76 5.5 10 .671.752 1.504 1.086 2.5 1v1h-5c-.974-4.459-3.307-7.959-7-10.5.671-.986.671-2.153 0-3.5z" opacity=".973"/><path fill="#d8938e" d="M426.5 532.5h5c2.491 4.978 5.491 9.645 9 14h-5v-1c-1.925-4.251-4.592-7.917-8-11l-1-2z" opacity=".986"/><path fill="#d59090" d="M431.5 532.5h2c4.62 3.901 8.287 8.568 11 14h-4c-3.509-4.355-6.509-9.022-9-14z" class="E"/><path fill="#d18c93" d="M433.5 532.5h9l1 2c2.274 4.272 4.941 8.272 8 12h-7c-2.713-5.432-6.38-10.099-11-14z" opacity=".982"/><path fill="#ca8596" d="M442.5 532.5h6c1.333 2 3 3.667 5 5 .874 3.413 2.541 6.413 5 9h-5c-2.279-3.786-4.779-7.452-7.5-11-.671-.752-1.504-1.086-2.5-1l-1-2z" class="B"/><path fill="#c48098" d="M448.5 532.5h9a21.83 21.83 0 0 0 5 6c1.764 2.912 3.097 5.579 4 8h-7a21.82 21.82 0 0 0-6-9c-2-1.333-3.667-3-5-5z" class="B"/><path fill="#be7a99" d="M457.5 532.5h7c1.952 3.787 4.786 6.787 8.5 9l2.5 5h-7c-.575-3.849-2.575-6.516-6-8a21.83 21.83 0 0 1-5-6z" class="F"/><path fill="#ba779a" d="M464.5 532.5h2c1.703 2.692 4.036 4.692 7 6 2.011 2.346 3.344 5.013 4 8h-2l-2.5-5c-3.714-2.213-6.548-5.213-8.5-9z" opacity=".988"/><path fill="#b7749a" d="M466.5 532.5h8c2.92 4.927 6.254 9.594 10 14h-7c-.656-2.987-1.989-5.654-4-8-2.964-1.308-5.297-3.308-7-6z" class="F"/><path fill="#b4719a" d="M474.5 532.5h4c2.937 4.378 6.27 9.045 10 14h-4c-3.746-4.406-7.08-9.073-10-14z" class="C"/><path fill="#b06e9a" d="M478.5 532.5h7c1.261 3.198 3.427 5.531 6.5 7a17.34 17.34 0 0 1 3.5 7h-7c-3.73-4.955-7.063-9.622-10-14z" class="B"/><path fill="#ad6b9a" d="M485.5 532.5h4c4.392 4.063 8.058 8.73 11 14h-5a17.34 17.34 0 0 0-3.5-7c-3.073-1.469-5.239-3.802-6.5-7z" class="F"/><path fill="#aa699b" d="M489.5 532.5h6c3.661 4.992 7.661 9.659 12 14h-7c-2.942-5.27-6.608-9.937-11-14z" class="E"/><path fill="#a5659a" d="M495.5 532.5h9c5.667 3.667 10.333 8.333 14 14h-11c-4.339-4.341-8.339-9.008-12-14z" class="B"/><path fill="#9f619a" d="M504.5 532.5h13l15 12c-.111.617-.444 1.117-1 1.5a84.9 84.9 0 0 1-13 .5c-3.667-5.667-8.333-10.333-14-14z" opacity=".976"/><path fill="#9a5e9a" d="M517.5 532.5h8c4.829 1.955 7.495 5.622 8 11 0 .667-.333 1-1 1l-15-12z" opacity=".992"/><path fill="#985c99" d="M525.5 532.5h9c.315 3.871-.018 7.538-1 11-.505-5.378-3.171-9.045-8-11z" opacity=".837"/><path fill="#d9968c" d="M427.5 534.5c3.408 3.083 6.075 6.749 8 11-.996.086-1.829-.248-2.5-1-2.091-3.24-3.924-6.574-5.5-10z"/><path fill="#cd8895" d="M443.5 534.5c.996-.086 1.829.248 2.5 1 2.721 3.548 5.221 7.214 7.5 11h-2c-3.059-3.728-5.726-7.728-8-12z" class="F"/><path fill="#ecad6f" d="M403.5 546.5c-4.161-.971-5.828-3.638-5-8 .617-.111 1.117-.444 1.5-1 .622 3.239 1.788 6.239 3.5 9z" opacity=".914"/><path fill="#e9a977" d="M405.5 537.5a23.88 23.88 0 0 1 7 9h-2c-2.469-2.538-4.135-5.538-5-9z" opacity=".974"/><path fill="#e09d84" d="M415.5 532.5h2c3.772 4.118 6.772 8.785 9 14h-3c-2.135-4.933-4.802-9.599-8-14z" class="S"/><path fill="#c88297" d="M453.5 537.5a21.82 21.82 0 0 1 6 9h-1c-2.459-2.587-4.126-5.587-5-9z" class="C"/><path fill="#c07d99" d="M462.5 538.5c3.425 1.484 5.425 4.151 6 8h-2c-.903-2.421-2.236-5.088-4-8z" class="D"/><path fill="#efb954" d="M372.5 549.5c2.259 3.438 4.759 6.771 7.5 10 .273 1.829 1.107 3.329 2.5 4.5-.556.383-.889.883-1 1.5h-9c-.848-3.388-2.848-5.721-6-7-.52-4.87 1.48-7.87 6-9z" class="U"/><path fill="#efb75a" d="M372.5 549.5h9c.912 2.095 2.079 4.095 3.5 6 .816 1.323 1.983 1.989 3.5 2a41.54 41.54 0 0 1 1 8h-8c.111-.617.444-1.117 1-1.5-1.393-1.171-2.227-2.671-2.5-4.5-2.741-3.229-5.241-6.562-7.5-10z" class="M"/><path fill="#efb65e" d="M381.5 549.5h2l5 8c-1.517-.011-2.684-.677-3.5-2-1.421-1.905-2.588-3.905-3.5-6z" opacity=".95"/><path fill="#efb461" d="M383.5 549.5h7c1.33 2.998 2.997 5.832 5 8.5-.714 1.343-.38 2.676 1 4-.671.986-.671 2.153 0 3.5h-3c-.383-1.908-1.383-3.408-3-4.5.854-1.785.187-2.951-2-3.5l-5-8z" class="I"/><path fill="#eeb266" d="M390.5 549.5h10c1.314 5.259 2.314 10.592 3 16h-7c-.671-1.347-.671-2.514 0-3.5-1.38-1.324-1.714-2.657-1-4-2.003-2.668-3.67-5.502-5-8.5z" opacity=".921"/><path fill="#ecaf6d" d="M400.5 549.5h4a8.43 8.43 0 0 0 .5 4c1.082 2.118 2.249 4.118 3.5 6l2 6h-7c-.686-5.408-1.686-10.741-3-16z" opacity=".91"/><path fill="#ecad6f" d="M404.5 549.5h2a81.8 81.8 0 0 1 2 10c-1.251-1.882-2.418-3.882-3.5-6a8.43 8.43 0 0 1-.5-4z" opacity=".945"/><path fill="#eaab73" d="M406.5 549.5h6c1.425 5.787 3.092 11.121 5 16h-7l-2-6a81.8 81.8 0 0 0-2-10z" opacity=".919"/><path fill="#e9a977" d="M412.5 549.5h2c1.365 5.472 3.032 10.805 5 16h-2c-1.908-4.879-3.575-10.213-5-16z" opacity=".931"/><path fill="#e7a77a" d="M414.5 549.5h3c2.606 5.156 4.606 10.49 6 16h-4c-1.968-5.195-3.635-10.528-5-16z" opacity=".941"/><path fill="#e5a47e" d="M417.5 549.5h5c1.805 5.416 3.805 10.749 6 16h-5c-1.394-5.51-3.394-10.844-6-16z" opacity=".91"/><path fill="#e3a182" d="M422.5 549.5h3l6 16h-3c-2.195-5.251-4.195-10.584-6-16z" opacity=".927"/><path fill="#e19f84" d="M425.5 549.5h3c2.182 5.206 4.182 10.54 6 16h-3l-6-16z" class="M"/><path fill="#df9d87" d="M428.5 549.5h3c.734 1.208 1.067 2.541 1 4l4 12h-2c-1.818-5.46-3.818-10.794-6-16z" class="M"/><path fill="#dc988b" d="M431.5 549.5h6a41.79 41.79 0 0 0 7 14.5c-.556.383-.889.883-1 1.5h-4c-1.844-4.364-4.177-8.364-7-12 .067-1.459-.266-2.792-1-4z" opacity=".928"/><path fill="#d8948e" d="M437.5 549.5h5a86.13 86.13 0 0 0 8 14.5c-.556.383-.889.883-1 1.5h-6c.111-.617.444-1.117 1-1.5a41.79 41.79 0 0 1-7-14.5z" opacity=".931"/><path fill="#d59090" d="M442.5 549.5h4l6 16h-3c.111-.617.444-1.117 1-1.5a86.13 86.13 0 0 1-8-14.5z" opacity=".92"/><path fill="#d18c92" d="M446.5 549.5h7c2.169 5.417 4.502 10.75 7 16h-8l-6-16z" class="T"/><path fill="#cd8894" d="M453.5 549.5h3a85.64 85.64 0 0 1 7 16h-3c-2.498-5.25-4.831-10.583-7-16z" class="L"/><path fill="#ca8596" d="M456.5 549.5h7a20.69 20.69 0 0 0 1 5l4 11h-5a85.64 85.64 0 0 0-7-16z" opacity=".92"/><path fill="#c37f98" d="M463.5 549.5h8l9 16h-10l-3.5-9c-.708-.881-1.542-1.547-2.5-2a20.69 20.69 0 0 1-1-5z" class="T"/><path fill="#be7a99" d="M471.5 549.5h7c2.408 3.813 4.575 7.813 6.5 12 .671.752 1.504 1.086 2.5 1v3h-7l-9-16z" class="M"/><path fill="#ba779a" d="M478.5 549.5h2c3.067 3.901 5.4 8.234 7 13-.996.086-1.829-.248-2.5-1-1.925-4.187-4.092-8.187-6.5-12z" opacity=".968"/><path fill="#b7749a" d="M480.5 549.5h8a85.13 85.13 0 0 1 7 16h-8v-3c-1.6-4.766-3.933-9.099-7-13z" opacity=".923"/><path fill="#b4719a" d="M488.5 549.5h3c3.099 4.95 5.432 10.283 7 16h-3a85.13 85.13 0 0 0-7-16z" opacity=".92"/><path fill="#b16e9a" d="M491.5 549.5h8c3.197 5.061 5.864 10.394 8 16h-9c-1.568-5.717-3.901-11.05-7-16z" opacity=".923"/><path fill="#ad6b9a" d="M499.5 549.5h4c1.754 5.515 4.087 10.848 7 16h-3c-2.136-5.606-4.803-10.939-8-16z" opacity=".899"/><path fill="#aa689b" d="M503.5 549.5h7l9 16h-9c-2.913-5.152-5.246-10.485-7-16z" class="L"/><path fill="#a6659a" d="M510.5 549.5h12v1l8 15h-11l-9-16z" class="L"/><path fill="#9f5f9a" d="M522.5 550.5v-1h16c6.05 4.228 10.05 9.561 12 16h-15l-13-15z" class="I"/><path fill="#9a5c99" d="M538.5 549.5c8.007-.166 16.007 0 24 .5l2.5 2.5c2.142 11.683-2.692 16.016-14.5 13-1.95-6.439-5.95-11.772-12-16z" opacity=".916"/><path fill="#a3629a" d="M522.5 550.5l13 15h-5l-8-15z" opacity=".915"/><path fill="#de9b88" d="M432.5 553.5c2.823 3.636 5.156 7.636 7 12h-3l-4-12z" opacity=".906"/><path fill="#c88297" d="M464.5 554.5c.958.453 1.792 1.119 2.5 2l3.5 9h-2l-4-11z" class="I"/><path fill="#efb55e" d="M388.5 557.5c2.187.549 2.854 1.715 2 3.5 1.617 1.092 2.617 2.592 3 4.5h-4a41.54 41.54 0 0 0-1-8z" opacity=".857"/><path fill="#efbb50" d="M366.5 558.5c3.152 1.279 5.152 3.612 6 7-4.09-.502-6.09-2.835-6-7z" opacity=".673"/><g fill="#313e60"><path d="M444.5 631.5h6v44h-6v-44z" opacity=".867"/><path d="M236.5 634.5a242.43 242.43 0 0 1 22 .5c9.576 3.121 14.576 9.788 15 20-.884 10.218-6.217 16.885-16 20-6.992.5-13.992.666-21 .5v-41zm6 5a38.27 38.27 0 0 1 17 2.5c8.856 7.992 9.189 16.325 1 25-5.635 2.932-11.635 4.099-18 3.5v-31z" class="U"/><path d="M287.5 634.5c6.658-1.156 8.658 1.344 6 7.5-6.75 1.469-8.75-1.031-6-7.5zm66 0c6.658-1.156 8.658 1.344 6 7.5-6.75 1.469-8.75-1.031-6-7.5z" opacity=".8"/><path d="M504.5 634.5c2.424-.308 4.757.026 7 1l17 39c-2.265 1.147-4.598 1.314-7 .5-1.735-2.637-3.068-5.47-4-8.5-6.333-1.333-12.667-1.333-19 0-1.24 2.893-2.574 5.727-4 8.5-2.402.814-4.735.647-7-.5 6.065-13.206 11.732-26.539 17-40zm3 9c3.128 5.267 5.461 10.934 7 17a98.43 98.43 0 0 1-14-.5 169.58 169.58 0 0 0 7-16.5z" opacity=".878"/><path d="M378.5 640.5h6v8h7v5h-7c-.166 5.344.001 10.677.5 16 1.523 2.12 3.356 2.453 5.5 1a9.86 9.86 0 0 1 1 6c-3.35.165-6.683-.002-10-.5l-2.5-2.5c-.5-6.658-.666-13.325-.5-20h-7v-5h7v-8z" class="U"/><path d="M316.5 647.5c3.35-.165 6.683.002 10 .5 1.829.273 3.329 1.107 4.5 2.5 1.754-1.75 3.921-2.417 6.5-2 .433 11.41-.067 22.744-1.5 34-3.311 5.281-8.144 7.614-14.5 7-5.25.476-9.583-1.191-13-5 1-1.667 2.333-3 4-4 4.524 3.872 9.524 4.706 15 2.5 3.165-2.827 4.331-6.327 3.5-10.5-6.586 4.126-13.086 3.96-19.5-.5-6.315-9.871-4.648-18.038 5-24.5zm4 5c6.612-.22 10.279 2.947 11 9.5-2.806 8.38-7.972 10.213-15.5 5.5-3.076-6.607-1.576-11.607 4.5-15z" class="V"/><use xlink:href="#B" class="V"/><use xlink:href="#C" opacity=".792"/><path d="M617.5 647.5c14.621-1.8 21.121 4.534 19.5 19-3.593 8.664-10.093 11.83-19.5 9.5-8.876-4.289-11.709-11.123-8.5-20.5 2.074-3.577 4.907-6.244 8.5-8zm3 5c9.663.79 12.83 5.79 9.5 15-4.222 4.686-8.722 5.019-13.5 1-3.637-6.726-2.304-12.059 4-16z" opacity=".862"/><use xlink:href="#C" x="72" opacity=".792"/><use xlink:href="#B" x="277" class="V"/><path d="M287.5 648.5h6v27h-6v-27zm66 0h6v27h-6v-27z" opacity=".867"/><path d="M538.5 648.5h7c-.166 6.675 0 13.342.5 20 5.661 4.184 9.661 2.85 12-4 .499-5.323.666-10.656.5-16h6v27c-2.579.417-4.746-.25-6.5-2-2.306 2.388-5.139 3.388-8.5 3-6.415.42-9.915-2.58-10.5-9a180.87 180.87 0 0 1-.5-19z" opacity=".836"/><path d="M486.5 720.5c1.329 5.124 1.995 10.624 2 16.5l-1 16.5c-.999-10.98-1.332-21.98-1-33z" opacity=".73"/><path d="M362.5 725.5c7.195-1.584 11.529 1.083 13 8-2.745.127-4.745-1.04-6-3.5-6.306-1.532-9.639.968-10 7.5.197 6.04 3.197 8.54 9 7.5 5.736-4.442 4.736-6.275-3-5.5v-3h11v12c-3.514-.908-7.014-.574-10.5 1-8.81-1.66-12.144-6.993-10-16 1.277-3.438 3.443-6.105 6.5-8z" opacity=".752"/><path d="M430.5 725.5c11.921-1.18 16.754 4.153 14.5 16-3.294 7.436-8.794 9.603-16.5 6.5-5.664-5.779-6.497-12.279-2.5-19.5 1.652-.899 3.152-1.899 4.5-3zm1 4c8.275-.794 11.442 2.873 9.5 11-4.333 6.667-8.667 6.667-13 0-1.094-4.459.073-8.126 3.5-11z" opacity=".766"/><path d="M511.5 725.5c4.947-.872 9.113.461 12.5 4a8.43 8.43 0 0 1 .5 4c-2.745.127-4.745-1.04-6-3.5-8.33-.64-11.163 3.193-8.5 11.5 1.334 3.604 3.834 4.771 7.5 3.5 1.803-1.262 3.136-2.929 4-5 1.333-.667 2.667-.667 4 0-2.41 8.365-7.744 11.032-16 8a11.53 11.53 0 0 1-3.5-4.5 36.23 36.23 0 0 1 0-12c1.36-2.523 3.193-4.523 5.5-6z" opacity=".752"/><path d="M288.5 726.5h4v8h10v-8h4v22h-4v-10h-10v10h-4v-22z" class="W"/><path d="M317.5 726.5a7.11 7.11 0 0 1 5 1l8 20.5c-1.759.798-3.426.631-5-.5-.574-1.559-1.24-3.059-2-4.5a32.46 32.46 0 0 0-8-.5c.211 4.484-1.789 6.317-6 5.5 2.964-7.058 5.63-14.224 8-21.5zm2 5a68.77 68.77 0 0 1 3 6.5c-1.759.798-3.426.631-5-.5 1.247-1.823 1.914-3.823 2-6z" opacity=".767"/><path d="M333.5 726.5a7.11 7.11 0 0 1 5 1 188 188 0 0 1 8.5 14 112.97 112.97 0 0 0 .5-15h4v22c-1.967.239-3.801-.094-5.5-1-2.416-4.501-5.083-8.834-8-13a98.43 98.43 0 0 0-.5 14h-4v-22z" opacity=".789"/><path d="M380.5 726.5h17a8.43 8.43 0 0 1-.5 4c-3.713 4.924-7.546 9.758-11.5 14.5 3.986.499 7.986.666 12 .5v3h-18a8.43 8.43 0 0 1 .5-4 229.57 229.57 0 0 0 11.5-14c-3.607-.989-7.274-1.323-11-1v-3z" opacity=".819"/><path d="M401.5 726.5h4v8h10v-8h4v22h-4v-10h-10v10h-4v-22z" class="W"/><path d="M449.5 726.5h4a112.97 112.97 0 0 0 .5 15c2.195 4.372 5.195 5.039 9 2 .499-5.657.666-11.324.5-17h4c.166 6.009-.001 12.009-.5 18-3.842 5.227-8.675 6.227-14.5 3-.692-.525-1.192-1.192-1.5-2-1.37-6.242-1.87-12.575-1.5-19z" opacity=".784"/><path d="M529.5 726.5h4v8h10v-8h4v22h-4v-10h-10v10h-4v-22z" class="W"/><path d="M553.5 726.5h4v22h-4v-22z" opacity=".804"/><path d="M562.5 726.5c1.967-.239 3.801.094 5.5 1 2.416 4.501 5.083 8.834 8 13a98.43 98.43 0 0 0 .5-14h4v22a7.11 7.11 0 0 1-5-1 168.79 168.79 0 0 0-8.5-13 98.43 98.43 0 0 0-.5 14h-4v-22z" opacity=".769"/><path d="M591.5 726.5c1.967-.239 3.801.094 5.5 1 2.111 7.003 4.611 13.837 7.5 20.5a12.93 12.93 0 0 1-5 .5l-1-6h-9l-1 6a12.93 12.93 0 0 1-5-.5c2.964-7.058 5.63-14.224 8-21.5zm2 5a68.77 68.77 0 0 1 3 6.5c-1.667.667-3.333.667-5 0 1.169-2.007 1.835-4.173 2-6.5z" opacity=".763"/></g><defs ><path id="B" d="M410.5 647.5c4.014-.166 8.014.001 12 .5a11.53 11.53 0 0 1 4.5 3.5c1.435 7.889 1.935 15.889 1.5 24-2.544.396-4.711-.271-6.5-2-2.306 2.388-5.139 3.388-8.5 3-6.258.573-9.592-2.26-10-8.5.56-4.892 3.227-7.892 8-9a60.93 60.93 0 0 1 11-.5c.048-2.792-1.285-4.625-4-5.5-3.74-.078-7.407.255-11 1a7.25 7.25 0 0 1-2-2.5 23.72 23.72 0 0 1 5-4zm6 15h6c-.191 7.026-3.691 9.693-10.5 8-3.051-1.765-3.217-3.765-.5-6 1.836-.528 3.503-1.194 5-2z"/><path id="C" d="M589.5 647.5h7c.162 2.027-.005 4.027-.5 6-3.653-1.356-6.653-.356-9 3a180.87 180.87 0 0 0-.5 19h-7v-27a19.37 19.37 0 0 1 8 1c1.022-.355 1.689-1.022 2-2z"/></defs></svg>
"""
# 内容背景
user_background_color = ''
gpt_background_color = 'rgba(225, 230, 235, 0.5)'
# 模型初始设置
initial_content_all = {
    "history": [],
    "paras": {
        "temperature": 1.0,
        "top_p": 1.0,
        "presence_penalty": 0.0,
        "frequency_penalty": 0.0,
    },
    "contexts": {
        'context_select': '不设置',
        'context_input': '',
        'context_level': 4
    }
}
# 上下文
set_context_all = {"不设置": ""}
set_context_all.update(set_context)

# 自定义css、js
css_code = """
    <style>
    section[data-testid="stSidebar"] > div > div:nth-child(2) {
        padding-top: 0.75rem !important;
    }
    
    section.main > div {
        padding-top: 10px;
    }
    
    section[data-testid="stSidebar"] h1 {
        text-shadow: 2px 2px #ccc;
        font-size: 28px !important;
        font-family: "微软雅黑", "auto";
        margin-bottom: 6px;
        font-weight: 500 !important;
    }
    
    section[data-testid="stSidebar"] .stRadio {
        overflow: overlay;
        height: 28vh;
    }
    
    hr {
        margin-top: 20px;
        margin-bottom: 30px;
    }
    
    .avatar {
        display: flex;
        align-items: center;
        gap: 10px;
        pointer-events: none;
        margin: -8px 10px -16px;
    }
    
    .avatar svg {
        width: 30px;
        height: 30px;
    }
    
    .avatar h2 {
        font-size: 20px;
        margin: 0;
    }
    
    .content-div {
        padding: 5px 20px;
        margin: 5px;
        text-align: left;
        border-radius: 10px;
        border: none;
        line-height: 1.6;
        font-size: 17px;
    }
    
    .content-div.assistant p {
        padding: 4px;
        margin: 2px;
    }
    
    .content-div.user p {
        padding: 4px;
        margin: -5px 2px -3px;
    }
    
    div[data-testid="stForm"] {
        border: none;
        padding: 0;
    }
    
    button[kind="primaryFormSubmit"] {
        border: none;
        padding: 0;
    }
    
    div[data-testid="stForm"] + div[data-testid="stHorizontalBlock"] div[data-baseweb="select"] > div:nth-child(1) {
        background-color: transparent;
        justify-content: center;
        font-weight: 300;
        border-radius: 0.25rem;
        margin: 0;
        line-height: 1.4;
        border: 1px solid rgba(49, 51, 63, 0.2);
    }
    </style>
"""

js_code = """
<script>
function checkElements() {
    const textinput = window.parent.document.querySelector("textarea[aria-label='**输入：**']");   //label需要相对应
    const textarea = window.parent.document.querySelector("div[data-baseweb = 'textarea']");
    const button = window.parent.document.querySelector("button[kind='secondaryFormSubmit']");
    const tabs = window.parent.document.querySelectorAll('button[data-baseweb="tab"] p');
    const tabs_div = window.parent.document.querySelector('div[role="tablist"]');
    const tab_panels = window.parent.document.querySelectorAll('div[data-baseweb="tab-panel"]');

    if (textinput && textarea && button && tabs && tabs_div && tab_panels) {
        // 双击点位输入框，同时抑制双击时选中文本事件
        window.parent.document.addEventListener('dblclick', function (event) {
            let activeTab = tabs_div.querySelector('button[aria-selected="true"]');
            if (activeTab.querySelector('p').textContent === '💬 聊天') {
                textinput.focus();
            } else {
                tabs[0].click();
                const waitMs = 50;

                function waitForFocus() {
                    if (window.parent.document.activeElement === textinput) {
                    } else {
                        setTimeout(function () {
                            textinput.focus();
                            waitForFocus();
                        }, waitMs);
                    }
                }

                waitForFocus();
            }
        });
        window.parent.document.addEventListener('mousedown', (event) => {
            if (event.detail === 2) {
                event.preventDefault();
            }
        });
        textinput.addEventListener('focusin', function (event) {
            event.stopPropagation();
            textarea.style.borderColor = 'rgb(255,75,75)';
        });
        textinput.addEventListener('focusout', function (event) {
            event.stopPropagation();
            textarea.style.borderColor = 'white';
        });

        // Ctrl + Enter快捷方式
        window.parent.document.addEventListener("keydown", event => {
            if (event.ctrlKey && event.key === "Enter") {
                if (textinput.textContent !== '') {
                    button.click();
                }
                textinput.blur();
            }
        });

        // 设置 Tab 键
        textinput.addEventListener('keydown', function (event) {
            if (event.keyCode === 9) {
                // 阻止默认行为
                event.preventDefault();
                if (!window.parent.getSelection().toString()) {
                    // 获取当前光标位置
                    const start = this.selectionStart;
                    const end = this.selectionEnd;
                    // 在光标位置插入制表符
                    this.value = this.value.substring(0, start) + '\t' + this.value.substring(end);
                    // 将光标移动到插入的制表符之后
                    this.selectionStart = this.selectionEnd = start + 1;
                }
            }
        });

        // 处理tabs 在第一次切换时的渲染问题
        tabs.forEach(function (tab, index) {
            const tab_panel_child = tab_panels[index].querySelectorAll("*");

            function set_visibility(state) {
                tab_panels[index].style.visibility = state;
                tab_panel_child.forEach(function (child) {
                    child.style.visibility = state;
                });
            }

            tab.addEventListener("click", function (event) {
                set_visibility('hidden')

                let element = tab_panels[index].querySelector('div[data-testid="stVerticalBlock"]');
                let main_block = window.parent.document.querySelector('section.main div[data-testid="stVerticalBlock"]');
                const waitMs = 50;

                function waitForLayout() {
                    if (element.offsetWidth === main_block.offsetWidth) {
                        set_visibility("visible");
                    } else {
                        setTimeout(waitForLayout, waitMs);
                    }
                }

                waitForLayout();
            });
        });
    } else {
        setTimeout(checkElements, 100);
    }
}

checkElements()
</script>
"""
